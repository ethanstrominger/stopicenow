<div class="fixice-share-buttons">
  <!-- ...same social buttons as menu.html... -->
</div>
<div style="position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#fff; margin-bottom: 0.5em;min-height:3.2em;">
  <div style="width:100%;display:flex;align-items:center;justify-content:center;position:relative;">
    <h1 class="fixice-title" style="margin-bottom:0.1em; margin-top:0; width:100%; text-align:center;">FIX ICE</h1>
    <a href="contact.html" class="contact-link-next-title" style="position:absolute;right:2em;top:50%;transform:translateY(-50%);color:#23408e;font-weight:700;text-decoration:underline;padding:0.3em 1em;border-radius:5px;transition:background 0.2s;white-space:nowrap;">Contact</a>
  </div>
  <div class="fixice-subtitle" style="margin-bottom:0.2em;">Burlington, MA and Beyond</div>
  <div style="font-size:0.95em;font-style:italic;color:#23408e;margin-bottom:0.7em;">Humanity first – abolish or transform ICE</div>
</div>
<nav class="main-menu" style="width:100vw;margin:0;padding:0;">
  <button class="menu-toggle" aria-label="Toggle menu" style="margin-left:0;">
    <span class="menu-bar"></span>
    <span class="menu-bar"></span>
    <span class="menu-bar"></span>
  </button>
  <div class="menu-links" id="menuLinks">
      <a href="index.html" class="menu-item" style="color:#fff;font-weight:600;text-decoration:none;padding:0.4em 1em;border-radius:5px;transition:background 0.2s;white-space:nowrap;">Home</a>
    <a href="resources.html" class="menu-item" style="color:#fff;font-weight:600;text-decoration:none;padding:0.4em 1em;border-radius:5px;transition:background 0.2s;white-space:nowrap;">All Resources</a>
    <select id="menu-strategy-menu" class="menu-item" style="background:#fff;color:#23408e;font-weight:600;border:none;padding:0.4em 1em;border-radius:5px;cursor:pointer;min-width:170px;white-space:nowrap;">
      <option value="">By Strategy</option>
      <option value="donate">Donate</option>
      <option value="volunteer">Volunteer</option>
      <option value="learn">Learn</option>
      <option value="advocate">Advocate</option>
      <option value="protest">Protest</option>
    </select>
    <select id="menu-cause-menu" class="menu-item" style="background:#fff;color:#23408e;font-weight:600;border:none;padding:0.4em 1em;border-radius:5px;cursor:pointer;min-width:170px;white-space:nowrap;">
      <option value="">By Cause</option>
      <!-- Cause options will be populated dynamically -->
    </select>
    <a href="protests1000districtave.html" class="menu-item" style="color:#fff;font-weight:600;text-decoration:none;padding:0.4em 1em;border-radius:5px;transition:background 0.2s;white-space:nowrap;">1000 District Ave</a>
    <a href="parking.html" class="menu-item" style="color:#fff;font-weight:600;text-decoration:none;padding:0.4em 1em;border-radius:5px;transition:background 0.2s;white-space:nowrap;">Parking</a>
    <a href="https://facebook.com/groups/774935765037658" target="_blank" class="menu-item" style="color:#fff;font-weight:600;text-decoration:none;padding:0.4em 1em;border-radius:5px;transition:background 0.2s;white-space:nowrap;">Join Facebook</a>
    <a href="changes.html" class="menu-item" style="color:#fff;font-weight:600;text-decoration:none;padding:0.4em 1em;border-radius:5px;transition:background 0.2s;white-space:nowrap;">Latest Updates</a>
    <div class="more-menu" id="moreMenu" style="display:none;position:relative;">
      <button class="more-menu-btn" style="background:none;border:none;color:#fff;font-weight:600;cursor:pointer;padding:0.4em 1em;">More ▾</button>
      <div class="more-dropdown" style="display:none;position:absolute;top:100%;left:0;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,0.15);min-width:120px;z-index:100;"></div>
    </div>
  </div>
  <!-- Contact link moved next to title above -->
  </div>
</nav>
<!-- Move script to end of body for reliable DOM access -->
<style>
  .menu-toggle {
    width: 40px;
    height: 40px;
    background: none;
    border: none;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    padding: 0;
    margin: 0 0.5em 0 0;
    z-index: 1100;
    position: relative;
    left: 0;
  }
  .menu-bar {
    display: block;
    width: 28px;
    height: 4px;
    margin: 4px 0;
    background: #23408e;
    border-radius: 2px;
    transition: 0.3s;
  }
  .menu-links {
    align-items: center;
    gap: 1.2em;
    background: #23408e;
    padding: 0.7em 0 0.7em 0;
    box-shadow: 0 2px 8px #0002;
    overflow: hidden;
    flex-wrap: nowrap;
    width: 100%;
    border-radius: 0;
  }
  @media (max-width: 1200px) {
    .main-menu {
      display: block !important;
    }
    .menu-links {
      display: none !important;
    }
    .menu-links.menu-links-open {
      display: flex !important;
      flex-direction: column;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: #23408e;
      z-index: 3000;
      border-radius: 0;
      box-shadow: 0 2px 8px #0002;
      overflow-y: auto;
      padding-top: 60px;
      margin-left: 0;
      max-width: none;
    }
    .menu-toggle {
      display: block !important;
      z-index: 3100;
    }
  }
  @media (min-width: 1201px) {
    .main-menu {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      position: relative;
    }
    .menu-toggle {
      display: none !important;
    }
    .menu-links {
      display: flex !important;
    }
  }
</style>
<script>
function updateMenuOverflow() {
  const menuLinks = document.getElementById('menuLinks');
  const moreMenu = document.getElementById('moreMenu');
  const moreDropdown = moreMenu.querySelector('.more-dropdown');
  const items = Array.from(menuLinks.querySelectorAll('.menu-item'));
  // Reset
  moreMenu.style.display = 'none';
  moreDropdown.innerHTML = '';
  items.forEach(item => item.style.display = '');
  // Only run on desktop (not hamburger)
  if (window.innerWidth <= 1200) return;
  let menuWidth = menuLinks.offsetWidth;
  let usedWidth = 0;
  let lastFittingIdx = -1;
  // Calculate how many items fit
  for (let i = 0; i < items.length; i++) {
    const item = items[i];
    item.style.display = '';
    usedWidth += item.offsetWidth;
    if (usedWidth + moreMenu.offsetWidth > menuWidth) {
      break;
    }
    lastFittingIdx = i;
  }
  // If not all fit, move extras to More
  if (lastFittingIdx < items.length - 1) {
    moreMenu.style.display = '';
    for (let i = lastFittingIdx + 1; i < items.length; i++) {
      const item = items[i];
      const clone = item.cloneNode(true);
      clone.style.display = 'block';
      clone.style.color = '#23408e';
      clone.style.background = 'none';
      clone.style.padding = '0.4em 1em';
      clone.style.borderRadius = '5px';
      clone.style.textDecoration = 'none';
      clone.style.fontWeight = '600';
      clone.style.whiteSpace = 'nowrap';
      moreDropdown.appendChild(clone);
      item.style.display = 'none';
    }
  }
}
window.addEventListener('resize', updateMenuOverflow);
window.addEventListener('DOMContentLoaded', () => {
  updateMenuOverflow();
  // Hamburger menu toggle
  const menuToggle = document.querySelector('.menu-toggle');
  const menuLinks = document.getElementById('menuLinks');
  menuToggle.addEventListener('click', function(e) {
    e.stopPropagation();
    menuLinks.classList.toggle('menu-links-open');
  });
  // Hide menu when clicking outside (mobile)
  document.addEventListener('click', function(e) {
    if (window.innerWidth <= 1200 && menuLinks.classList.contains('menu-links-open')) {
      if (!menuLinks.contains(e.target) && !menuToggle.contains(e.target)) {
        menuLinks.classList.remove('menu-links-open');
      }
    }
    // More dropdown hide
    const moreMenu = document.getElementById('moreMenu');
    if (moreMenu) {
      moreMenu.querySelector('.more-dropdown').style.display = 'none';
      moreMenu.classList.remove('open');
    }
  });
  // Toggle More dropdown
  const moreMenu = document.getElementById('moreMenu');
  moreMenu.querySelector('.more-menu-btn').addEventListener('click', function(e) {
    e.stopPropagation();
    const dropdown = moreMenu.querySelector('.more-dropdown');
    dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
    moreMenu.classList.toggle('open');
  });
});
</script>
</html>
